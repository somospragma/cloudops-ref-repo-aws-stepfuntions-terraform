{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "StepFunctionsManagement",
      "Effect": "Allow",
      "Action": [
        "states:CreateStateMachine",
        "states:UpdateStateMachine",
        "states:DeleteStateMachine",
        "states:DescribeStateMachine",
        "states:ListStateMachines",
        "states:TagResource",
        "states:UntagResource",
        "states:ListTagsForResource",
        "states:PublishStateMachineVersion"
      ],
      "Resource": [
        "arn:aws:states:*:*:stateMachine:*"
      ]
    },
    {
      "Sid": "IAMReadPermissions",
      "Effect": "Allow",
      "Action": [
        "iam:GetRole",
        "iam:GetRolePolicy",
        "iam:ListAttachedRolePolicies",
        "iam:ListRolePolicies",
        "iam:PassRole"
      ],
      "Resource": [
        "arn:aws:iam::*:role/*StepFunctions*",
        "arn:aws:iam::*:role/*stepfunctions*",
        "arn:aws:iam::*:role/*-sfn-*"
      ]
    },
    {
      "Sid": "KMSReadPermissions",
      "Effect": "Allow",
      "Action": [
        "kms:DescribeKey",
        "kms:GetKeyPolicy",
        "kms:ListAliases",
        "kms:ListKeys"
      ],
      "Resource": "*"
    },
    {
      "Sid": "CloudWatchLogsReadPermissions",
      "Effect": "Allow",
      "Action": [
        "logs:DescribeLogGroups",
        "logs:ListTagsLogGroup"
      ],
      "Resource": "*"
    },
    {
      "Sid": "S3ReadPermissionsForDefinitions",
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:GetObjectVersion",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::*-stepfunctions-definitions",
        "arn:aws:s3:::*-stepfunctions-definitions/*"
      ]
    },
    {
      "Sid": "STSAssumeRole",
      "Effect": "Allow",
      "Action": [
        "sts:GetCallerIdentity"
      ],
      "Resource": "*"
    },
    {
      "Sid": "XRayPermissions",
      "Effect": "Allow",
      "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
      ],
      "Resource": "*"
    }
  ]
}
